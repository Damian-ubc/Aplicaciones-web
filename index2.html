<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Estudiante - Schoologycal</title>
    <style>
        /* ESTILOS INCLUIDOS DIRECTAMENTE - FIDELIDAD AL PDF */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            background-color: white;
            color: black;
            line-height: 1.6;
        }
        
        .dashboard-header {
            background: #f8f9fa;
            padding: 20px 0;
            border-bottom: 1px solid #dee2e6;
        }
        
        .user-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .student-name {
            font-size: 1.5em;
            font-weight: bold;
        }
        
        .student-email {
            color: #666;
        }
        
        .nav-tabs {
            display: flex;
            background: white;
            border-bottom: 1px solid #dee2e6;
        }
        
        .nav-tab {
            padding: 15px 30px;
            text-decoration: none;
            color: #333;
            border-bottom: 3px solid transparent;
            font-weight: bold;
            cursor: pointer;
        }
        
        .nav-tab.active {
            border-bottom-color: #007bff;
            color: #007bff;
        }
        
        .dashboard-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }
        
        .section {
            display: none;
        }
        
        .section.active {
            display: block;
        }
        
        .courses-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .course-card {
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            background: white;
        }
        
        .course-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .logout-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .logout-btn:hover {
            background: #c82333;
        }
        
        /* Estilos para tablas */
        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .table th, .table td {
            border: 1px solid #dee2e6;
            padding: 12px;
            text-align: left;
        }
        
        .table th {
            background-color: #f8f9fa;
            font-weight: bold;
        }
        
        .attendance-present {
            color: green;
            font-weight: bold;
        }
        
        .attendance-absent {
            color: red;
            font-weight: bold;
        }
        
        .grade-excellent {
            color: green;
            font-weight: bold;
        }
        
        .grade-good {
            color: orange;
            font-weight: bold;
        }
        
        .grade-poor {
            color: red;
            font-weight: bold;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            background: white;
            text-align: center;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }

        .stat-label {
            color: #666;
            font-size: 0.9em;
        }

        .empty-state {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #28a745;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <!-- Header del Dashboard -->
    <div class="dashboard-header">
        <div class="user-info">
            <div>
                <div class="student-name">NOMBRE DEL ESTUDIANTE</div>
                <div class="student-email">hello@reallygreatsite.com</div>
            </div>
            <button class="logout-btn" onclick="logout()">Cerrar sesión</button>
        </div>
    </div>
    
    <!-- Navegación -->
    <div class="nav-tabs">
        <div class="nav-tab active" data-section="cursos">Mis cursos</div>
        <div class="nav-tab" data-section="calificaciones">Mis calificaciones</div>
        <div class="nav-tab" data-section="asistencias">Asistencias</div>
        <div class="nav-tab" data-section="reportes">Reportes personales</div>
    </div>
    
    <!-- Contenido Principal -->
    <div class="dashboard-content">
        <!-- SECCIÓN: MIS CURSOS -->
        <div id="cursos" class="section active">
            <h1>Mis cursos</h1>
            
            <div class="courses-grid" id="cursos-grid">
                <!-- Los cursos se cargan dinámicamente -->
            </div>
        </div>
        
        <!-- SECCIÓN: CALIFICACIONES -->
        <div id="calificaciones" class="section">
            <h1>Mis calificaciones</h1>
            
            <table class="table">
                <thead>
                    <tr>
                        <th>Asignatura</th>
                        <th>Parcial 1</th>
                        <th>Parcial 2</th>
                        <th>Parcial 3</th>
                        <th>Promedio</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody id="tabla-calificaciones">
                    <!-- Las calificaciones se cargan dinámicamente -->
                </tbody>
            </table>
        </div>
        
        <!-- SECCIÓN: ASISTENCIAS -->
        <div id="asistencias" class="section">
            <h1>Asistencias</h1>
            
            <table class="table">
                <thead>
                    <tr>
                        <th>Asignatura</th>
                        <th>Clases Totales</th>
                        <th>Asistencias</th>
                        <th>Faltas</th>
                        <th>Porcentaje</th>
                        <th>Estado</th>
                    </tr>
                </thead>
                <tbody id="tabla-asistencias">
                    <!-- Las asistencias se cargan dinámicamente -->
                </tbody>
            </table>

            <h2 style="margin-top: 30px;">Registro Detallado</h2>
            <table class="table">
                <thead>
                    <tr>
                        <th>Fecha</th>
                        <th>Asignatura</th>
                        <th>Asistencia</th>
                        <th>Observaciones</th>
                    </tr>
                </thead>
                <tbody id="tabla-asistencias-detalle">
                    <!-- El detalle de asistencias se carga dinámicamente -->
                </tbody>
            </table>
        </div>
        
        <!-- SECCIÓN: REPORTES PERSONALES -->
        <div id="reportes" class="section">
            <h1>Reportes personales</h1>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-label">Promedio General</div>
                    <div class="stat-value" id="promedio-general">0.0</div>
                    <div class="stat-label">Rendimiento Académico</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-label">Asistencia General</div>
                    <div class="stat-value" id="asistencia-general">0%</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="barra-asistencia" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-label">Cursos Inscritos</div>
                    <div class="stat-value" id="total-cursos">0</div>
                    <div class="stat-label">Cursos Activos</div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-label">Mejor Asignatura</div>
                    <div class="stat-value" id="mejor-asignatura">-</div>
                    <div class="stat-label" id="nota-mejor">-</div>
                </div>
            </div>

            <div class="courses-grid" style="margin-top: 30px;">
                <div class="course-card">
                    <div class="course-title">Reporte de Rendimiento General</div>
                    <p><strong>Promedio General:</strong> <span id="reporte-promedio">0.0</span></p>
                    <p><strong>Asignatura Mejor:</strong> <span id="reporte-mejor">-</span></p>
                    <p><strong>Asignatura a Mejorar:</strong> <span id="reporte-mejorar">-</span></p>
                    <p><strong>Asistencia General:</strong> <span id="reporte-asistencia">0%</span></p>
                </div>
                
                <div class="course-card">
                    <div class="course-title">Reporte de Comportamiento</div>
                    <p><strong>Participación en clase:</strong> <span id="participacion">Excelente</span></p>
                    <p><strong>Trabajos entregados:</strong> <span id="trabajos">95%</span></p>
                    <p><strong>Observaciones:</strong> <span id="observaciones">Estudiante comprometido</span></p>
                </div>
                
                <div class="course-card">
                    <div class="course-title">Recomendaciones</div>
                    <p><strong>Área de mejora:</strong> <span id="area-mejora">-</span></p>
                    <p><strong>Sugerencias:</strong> <span id="sugerencias">Practicar ejercicios adicionales</span></p>
                    <p><strong>Recursos:</strong> <span id="recursos">Material de estudio disponible</span></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ========== SISTEMA DE ALMACENAMIENTO ==========
        // Obtener datos del localStorage o usar datos de ejemplo
        const cursos = JSON.parse(localStorage.getItem('cursos')) || [
            {
                id: 1,
                nombre: "Matemáticas Avanzadas",
                descripcion: "Curso de matemáticas para nivel avanzado con enfoque en cálculo y álgebra",
                docente: "Dr. Carlos Rodríguez",
                horario: "Lunes y Miércoles 10:00-12:00",
                cupo: 30
            },
            {
                id: 2,
                nombre: "Literatura Universal",
                descripcion: "Estudio de obras literarias clásicas y contemporáneas",
                docente: "Dra. María González",
                horario: "Martes y Jueves 14:00-16:00",
                cupo: 25
            },
            {
                id: 3,
                nombre: "Física Moderna",
                descripcion: "Introducción a los conceptos fundamentales de la física moderna",
                docente: "Dr. Luis Hernández",
                horario: "Lunes y Viernes 08:00-10:00",
                cupo: 20
            },
            {
                id: 4,
                nombre: "Programación Web",
                descripcion: "Desarrollo de aplicaciones web con tecnologías modernas",
                docente: "Ing. Ana Martínez",
                horario: "Miércoles y Viernes 16:00-18:00",
                cupo: 35
            }
        ];

        const registros = JSON.parse(localStorage.getItem('registros')) || [
            // ========== MATEMÁTICAS ==========
            {
                id: 1,
                estudianteId: 1,
                cursoId: 1,
                estudiante: "NOMBRE DEL ESTUDIANTE",
                asignatura: "Matemáticas Avanzadas",
                fecha: "2024-01-15",
                asistencia: "Presente",
                calificacion: 18,
                observaciones: "Excelente participación en clase",
                tipo: "ambos"
            },
            {
                id: 2,
                estudianteId: 1,
                cursoId: 1,
                estudiante: "NOMBRE DEL ESTUDIANTE",
                asignatura: "Matemáticas Avanzadas",
                fecha: "2024-01-17",
                asistencia: "Presente",
                calificacion: 17,
                observaciones: "Buen trabajo en ejercicios prácticos",
                tipo: "ambos"
            },
            {
                id: 3,
                estudianteId: 1,
                cursoId: 1,
                estudiante: "NOMBRE DEL ESTUDIANTE",
                asignatura: "Matemáticas Avanzadas",
                fecha: "2024-01-22",
                asistencia: "Presente",
                calificacion: 19,
                observaciones: "Destacó en el examen parcial",
                tipo: "ambos"
            },

            // ========== LITERATURA ==========
            {
                id: 4,
                estudianteId: 1,
                cursoId: 2,
                estudiante: "NOMBRE DEL ESTUDIANTE",
                asignatura: "Literatura Universal",
                fecha: "2024-01-16",
                asistencia: "Presente",
                calificacion: 16,
                observaciones: "Buena interpretación de texto",
                tipo: "ambos"
            },
            {
                id: 5,
                estudianteId: 1,
                cursoId: 2,
                estudiante: "NOMBRE DEL ESTUDIANTE",
                asignatura: "Literatura Universal",
                fecha: "2024-01-18",
                asistencia: "Presente",
                calificacion: 15,
                observaciones: "Análisis literario adecuado",
                tipo: "ambos"
            },
            {
                id: 6,
                estudianteId: 1,
                cursoId: 2,
                estudiante: "NOMBRE DEL ESTUDIANTE",
                asignatura: "Literatura Universal",
                fecha: "2024-01-23",
                asistencia: "Ausente",
                calificacion: null,
                observaciones: "Falta justificada",
                tipo: "asistencia"
            },

            // ========== FÍSICA ==========
            {
                id: 7,
                estudianteId: 1,
                cursoId: 3,
                estudiante: "NOMBRE DEL ESTUDIANTE",
                asignatura: "Física Moderna",
                fecha: "2024-01-15",
                asistencia: "Presente",
                calificacion: 13,
                observaciones: "Necesita practicar más ejercicios",
                tipo: "ambos"
            },
            {
                id: 8,
                estudianteId: 1,
                cursoId: 3,
                estudiante: "NOMBRE DEL ESTUDIANTE",
                asignatura: "Física Moderna",
                fecha: "2024-01-19",
                asistencia: "Presente",
                calificacion: 12,
                observaciones: "Mejoró en la práctica de laboratorio",
                tipo: "ambos"
            },
            {
                id: 9,
                estudianteId: 1,
                cursoId: 3,
                estudiante: "NOMBRE DEL ESTUDIANTE",
                asignatura: "Física Moderna",
                fecha: "2024-01-22",
                asistencia: "Presente",
                calificacion: 11,
                observaciones: "Dificultades con conceptos teóricos",
                tipo: "ambos"
            },

            // ========== PROGRAMACIÓN ==========
            {
                id: 10,
                estudianteId: 1,
                cursoId: 4,
                estudiante: "NOMBRE DEL ESTUDIANTE",
                asignatura: "Programación Web",
                fecha: "2024-01-17",
                asistencia: "Presente",
                calificacion: 19,
                observaciones: "Excelente proyecto entregado",
                tipo: "ambos"
            },
            {
                id: 11,
                estudianteId: 1,
                cursoId: 4,
                estudiante: "NOMBRE DEL ESTUDIANTE",
                asignatura: "Programación Web",
                fecha: "2024-01-19",
                asistencia: "Presente",
                calificacion: 18,
                observaciones: "Dominio avanzado de conceptos",
                tipo: "ambos"
            },
            {
                id: 12,
                estudianteId: 1,
                cursoId: 4,
                estudiante: "NOMBRE DEL ESTUDIANTE",
                asignatura: "Programación Web",
                fecha: "2024-01-24",
                asistencia: "Presente",
                calificacion: 20,
                observaciones: "Perfecto en el examen práctico",
                tipo: "ambos"
            }
        ];

        // Guardar los datos de ejemplo si no existen
        if (!localStorage.getItem('cursos') || !localStorage.getItem('registros')) {
            localStorage.setItem('cursos', JSON.stringify(cursos));
            localStorage.setItem('registros', JSON.stringify(registros));
        }

        // Datos del estudiante actual
        const estudianteActual = {
            id: 1,
            nombre: "NOMBRE DEL ESTUDIANTE",
            email: "hello@reallygreatsite.com"
        };

        // ========== FUNCIONES PARA CURSOS ==========
        function renderCursos() {
            const grid = document.getElementById('cursos-grid');
            grid.innerHTML = '';
            
            if (cursos.length === 0) {
                grid.innerHTML = '<div class="empty-state">No estás inscrito en ningún curso</div>';
                return;
            }
            
            // Mostrar todos los cursos
            cursos.forEach(curso => {
                const card = document.createElement('div');
                card.className = 'course-card';
                card.innerHTML = `
                    <div class="course-title">${curso.nombre}</div>
                    <p>${curso.descripcion}</p>
                    <div style="margin-top: 15px;">
                        <strong>Profesor:</strong> ${curso.docente}
                    </div>
                    <div>
                        <strong>Horario:</strong> ${curso.horario}
                    </div>
                    <div>
                        <strong>Cupo:</strong> ${curso.cupo} estudiantes
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // ========== FUNCIONES PARA CALIFICACIONES ==========
        function getClaseNota(nota) {
            if (nota === '-' || nota === null) return '';
            if (nota >= 16) return 'grade-excellent';
            if (nota >= 11) return 'grade-good';
            return 'grade-poor';
        }

        function renderCalificaciones() {
            const tbody = document.getElementById('tabla-calificaciones');
            tbody.innerHTML = '';
            
            // Agrupar calificaciones por asignatura
            const calificacionesPorAsignatura = {};
            
            registros.forEach(registro => {
                if (registro.estudianteId === estudianteActual.id && registro.calificacion) {
                    if (!calificacionesPorAsignatura[registro.asignatura]) {
                        calificacionesPorAsignatura[registro.asignatura] = [];
                    }
                    calificacionesPorAsignatura[registro.asignatura].push(registro.calificacion);
                }
            });
            
            if (Object.keys(calificacionesPorAsignatura).length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" class="empty-state">No hay calificaciones registradas</td></tr>';
                return;
            }
            
            // Renderizar tabla con datos organizados
            Object.keys(calificacionesPorAsignatura).forEach(asignatura => {
                const calificaciones = calificacionesPorAsignatura[asignatura];
                // Tomar las primeras 3 calificaciones como parciales
                const parcial1 = calificaciones[0] || '-';
                const parcial2 = calificaciones[1] || '-';
                const parcial3 = calificaciones[2] || '-';
                const promedio = (calificaciones.reduce((a, b) => a + b, 0) / calificaciones.length).toFixed(1);
                
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td><strong>${asignatura}</strong></td>
                    <td class="${getClaseNota(parcial1)}">${parcial1}</td>
                    <td class="${getClaseNota(parcial2)}">${parcial2}</td>
                    <td class="${getClaseNota(parcial3)}">${parcial3}</td>
                    <td class="${getClaseNota(promedio)}"><strong>${promedio}</strong></td>
                    <td class="${parseFloat(promedio) >= 11 ? 'grade-excellent' : 'grade-poor'}">
                        <strong>${parseFloat(promedio) >= 11 ? '✅ Aprobado' : '❌ Desaprobado'}</strong>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        // ========== FUNCIONES PARA ASISTENCIAS ==========
        function renderAsistencias() {
            const tbody = document.getElementById('tabla-asistencias');
            const tbodyDetalle = document.getElementById('tabla-asistencias-detalle');
            tbody.innerHTML = '';
            tbodyDetalle.innerHTML = '';
            
            // Filtrar registros del estudiante actual
            const registrosEstudiante = registros.filter(r => r.estudianteId === estudianteActual.id);
            
            if (registrosEstudiante.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" class="empty-state">No hay registros de asistencia</td></tr>';
                tbodyDetalle.innerHTML = '<tr><td colspan="4" class="empty-state">No hay registros de asistencia</td></tr>';
                return;
            }
            
            // Agrupar asistencias por asignatura
            const asistenciasPorAsignatura = {};
            
            registrosEstudiante.forEach(registro => {
                if (!asistenciasPorAsignatura[registro.asignatura]) {
                    asistenciasPorAsignatura[registro.asignatura] = {
                        total: 0,
                        presentes: 0,
                        ausentes: 0,
                        registros: []
                    };
                }
                
                if (registro.asistencia) {
                    asistenciasPorAsignatura[registro.asignatura].total++;
                    if (registro.asistencia === 'Presente') {
                        asistenciasPorAsignatura[registro.asignatura].presentes++;
                    } else {
                        asistenciasPorAsignatura[registro.asignatura].ausentes++;
                    }
                }
                asistenciasPorAsignatura[registro.asignatura].registros.push(registro);
            });
            
            // Renderizar tabla resumen
            Object.keys(asistenciasPorAsignatura).forEach(asignatura => {
                const stats = asistenciasPorAsignatura[asignatura];
                if (stats.total > 0) {
                    const porcentaje = ((stats.presentes / stats.total) * 100).toFixed(1);
                    const estado = porcentaje >= 80 ? '🟢 Excelente' : porcentaje >= 70 ? '🟡 Aceptable' : '🔴 Bajo';
                    
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                        <td><strong>${asignatura}</strong></td>
                        <td>${stats.total}</td>
                        <td class="attendance-present"><strong>${stats.presentes}</strong></td>
                        <td class="attendance-absent"><strong>${stats.ausentes}</strong></td>
                        <td class="${porcentaje >= 80 ? 'attendance-present' : 'attendance-absent'}">
                            <strong>${porcentaje}%</strong>
                        </td>
                        <td class="${porcentaje >= 80 ? 'attendance-present' : porcentaje >= 70 ? 'grade-good' : 'attendance-absent'}">
                            <strong>${estado}</strong>
                        </td>
                    `;
                    tbody.appendChild(tr);
                }
            });
            
            // Renderizar tabla detalle (últimos 10 registros)
            const registrosRecientes = registrosEstudiante
                .filter(r => r.asistencia)
                .sort((a, b) => new Date(b.fecha) - new Date(a.fecha))
                .slice(0, 10);
            
            if (registrosRecientes.length === 0) {
                tbodyDetalle.innerHTML = '<tr><td colspan="4" class="empty-state">No hay registros de asistencia</td></tr>';
                return;
            }
            
            registrosRecientes.forEach(registro => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${new Date(registro.fecha).toLocaleDateString('es-ES')}</td>
                    <td>${registro.asignatura}</td>
                    <td class="${registro.asistencia === 'Presente' ? 'attendance-present' : 'attendance-absent'}">
                        <strong>${registro.asistencia === 'Presente' ? '✅ Presente' : '❌ Ausente'}</strong>
                    </td>
                    <td>${registro.observaciones || '-'}</td>
                `;
                tbodyDetalle.appendChild(tr);
            });
        }

        // ========== FUNCIONES PARA REPORTES ==========
        function renderReportes() {
            // Calcular estadísticas
            const registrosEstudiante = registros.filter(r => r.estudianteId === estudianteActual.id);
            const calificaciones = registrosEstudiante.filter(r => r.calificacion).map(r => r.calificacion);
            const asistencias = registrosEstudiante.filter(r => r.asistencia);
            
            // Promedio general
            const promedioGeneral = calificaciones.length > 0 ? 
                (calificaciones.reduce((a, b) => a + b, 0) / calificaciones.length).toFixed(1) : 0;
            
            // Asistencia general
            const totalAsistencias = asistencias.length;
            const asistenciasPresentes = asistencias.filter(a => a.asistencia === 'Presente').length;
            const porcentajeAsistencia = totalAsistencias > 0 ? 
                ((asistenciasPresentes / totalAsistencias) * 100).toFixed(1) : 0;
            
            // Mejor asignatura
            const calificacionesPorAsignatura = {};
            registrosEstudiante.forEach(registro => {
                if (registro.calificacion) {
                    if (!calificacionesPorAsignatura[registro.asignatura]) {
                        calificacionesPorAsignatura[registro.asignatura] = [];
                    }
                    calificacionesPorAsignatura[registro.asignatura].push(registro.calificacion);
                }
            });
            
            let mejorAsignatura = '-';
            let notaMejor = '-';
            let asignaturaAMejorar = '-';
            let notaMasBaja = 20;
            
            Object.keys(calificacionesPorAsignatura).forEach(asignatura => {
                const promedio = calificacionesPorAsignatura[asignatura].reduce((a, b) => a + b, 0) / calificacionesPorAsignatura[asignatura].length;
                
                if (promedio > (parseFloat(notaMejor) || 0)) {
                    mejorAsignatura = asignatura;
                    notaMejor = promedio.toFixed(1);
                }
                
                if (promedio < notaMasBaja) {
                    asignaturaAMejorar = asignatura;
                    notaMasBaja = promedio;
                }
            });
            
            // Actualizar UI
            document.getElementById('promedio-general').textContent = promedioGeneral;
            document.getElementById('asistencia-general').textContent = porcentajeAsistencia + '%';
            document.getElementById('barra-asistencia').style.width = porcentajeAsistencia + '%';
            document.getElementById('total-cursos').textContent = cursos.length;
            document.getElementById('mejor-asignatura').textContent = mejorAsignatura;
            document.getElementById('nota-mejor').textContent = notaMejor !== '-' ? 'Nota: ' + notaMejor : '-';
            
            // Actualizar reporte detallado
            document.getElementById('reporte-promedio').textContent = promedioGeneral;
            document.getElementById('reporte-mejor').textContent = mejorAsignatura + (notaMejor !== '-' ? ' (' + notaMejor + ')' : '');
            document.getElementById('reporte-mejorar').textContent = asignaturaAMejorar;
            document.getElementById('reporte-asistencia').textContent = porcentajeAsistencia + '%';
            document.getElementById('area-mejora').textContent = asignaturaAMejorar;
            
            // Datos fijos para comportamiento
            document.getElementById('participacion').textContent = 'Excelente';
            document.getElementById('trabajos').textContent = '95%';
            document.getElementById('observaciones').textContent = 'Estudiante comprometido y participativo';
            document.getElementById('sugerencias').textContent = 'Practicar ejercicios adicionales en ' + asignaturaAMejorar;
            document.getElementById('recursos').textContent = 'Material de estudio disponible en plataforma';
        }

        // ========== NAVEGACIÓN Y INICIALIZACIÓN ==========
        document.addEventListener('DOMContentLoaded', function() {
            // Navegación entre secciones
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                    
                    this.classList.add('active');
                    const sectionId = this.getAttribute('data-section');
                    document.getElementById(sectionId).classList.add('active');
                    
                    // Actualizar datos cuando se cambia de sección
                    if (sectionId === 'cursos') renderCursos();
                    if (sectionId === 'calificaciones') renderCalificaciones();
                    if (sectionId === 'asistencias') renderAsistencias();
                    if (sectionId === 'reportes') renderReportes();
                });
            });

            // Renderizar datos iniciales
            renderCursos();
            renderCalificaciones();
            renderAsistencias();
            renderReportes();
        });

        function logout() {
            if(confirm('¿Estás seguro de que quieres cerrar sesión?')) {
                window.location.href = 'index.html';
            }
        }
    </script>
</body>
</html>